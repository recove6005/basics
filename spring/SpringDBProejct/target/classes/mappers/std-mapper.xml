<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.springdbproejct.mappers.StdMapper">
    <resultMap id="set_user_club" type="StdClubDTO">
        <association property="stdDTO" javaType="StdClubDTO">
            <id property="stdName" column="stdName" />
            <result property="addr" column="addr" />
        </association>

        <association property="clubDTO" javaType="ClubDTO">
            <id property="clubName" column="clubName" />
            <result property="roomNo" column="roomNo" />
        </association>
    </resultMap>

    <select id="get_information" resultMap="set_user_club">
        SELECT S.*, C.* FROM `stdtbl` S
        INNER JOIN `stdclubtbl` SC
        ON S.`stdName` = SC.`stdName`
        INNER JOIN `clubtbl` C
        ON SC.`clubName` = C.`clubName`
    </select>
<!--    <select id="get_std" resultType="com.example.springdbproejct.dtos.StdDTO">-->
<!--        SELECT * FROM `stdtbl` LIMIT 1-->
<!--    </select>-->
<!--    <resultMap id="get_info_result" type="com.example.springdbproejct.dtos.StdClubDTO">-->
<!--        <association property="stdDTO" javaType="com.example.springdbproejct.dtos.StdDTO">-->
<!--            &lt;!&ndash;property에 있는 변수는 javaType에 있는 객체임을 의미&ndash;&gt;-->
<!--            &lt;!&ndash;property는 변수 이름과 동일하게~&ndash;&gt;-->
<!--            <id property="stdName" column="stdName" /> &lt;!&ndash;StdDTO의 primary key&ndash;&gt;-->
<!--            <result property="addr" column="addr" />-->
<!--        </association>-->
<!--        <association property="clubDTO" javaType="com.example.springdbproejct.dtos.ClubDTO">-->
<!--            <id property="clubName" column="clubName" />-->
<!--            <result property="roomNo" column="roomNo" />-->
<!--        </association>-->
<!--    </resultMap>-->
<!--    <select id="get_info" resultMap="get_info_result">-->
<!--        SELECT S.*, C.* FROM stdtbl S-->
<!--        INNER JOIN stdclubtbl SC-->
<!--        ON S.stdName = SC.stdName-->
<!--        INNER JOIN clubtbl C-->
<!--        ON SC.clubName = C.clubName-->
<!--    </select>-->
</mapper>